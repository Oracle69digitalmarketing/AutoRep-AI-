(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[921],{2045:(e,i,d)=>{"use strict";d.r(i),d.d(i,{default:()=>o});var t=d(5155),n=d(2115),s=d(7787),r=d(9027);function l(e){let{attributes:i,listeners:d,setNodeRef:n,transform:r}=(0,s.PM)({id:e.id}),l=r?{transform:"translate3d(".concat(r.x,"px, ").concat(r.y,"px, 0)")}:void 0;return(0,t.jsx)("div",{ref:n,style:l,...d,...i,children:e.children})}var a=d(7587);function c(e){let{attributes:i,listeners:d,setNodeRef:n,transform:s,transition:l}=(0,r.gl)({id:e.id}),c={transform:a.Ks.Transform.toString(s),transition:l,border:"1px solid #ccc",padding:"10px",margin:"5px 0",backgroundColor:"white"};return(0,t.jsxs)("div",{ref:n,style:c,...i,...d,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:e.item.type}),(0,t.jsx)("button",{onClick:()=>e.deleteItem(e.id),style:{float:"right"},children:"Delete"})]}),"send-message"===e.item.type&&(0,t.jsx)("input",{type:"text",value:e.item.message,onChange:i=>e.updateItemMessage(e.id,i.target.value),placeholder:"Enter message",style:{marginTop:"5px",width:"100%"}})]})}var p=d(3018);let o=()=>{let[e,i]=(0,n.useState)([]),[d,a]=(0,n.useState)(""),o=e=>{i(i=>i.filter(i=>i.id!==e))},x=(e,d)=>{i(i=>i.map(i=>i.id===e?{...i,message:d}:i))};return(0,t.jsx)(s.Mp,{collisionDetection:s.fp,onDragEnd:function(e){let{active:d,over:t}=e;d.id!==t.id&&("canvas"===t.id?i(e=>[...e,{id:(0,p.randomUUID)(),type:d.id,message:""}]):i(e=>{let i=e.findIndex(e=>e.id===d.id),n=e.findIndex(e=>e.id===t.id);return(0,r.be)(e,i,n)}))},children:(0,t.jsxs)("div",{style:{display:"flex"},children:[(0,t.jsxs)("div",{style:{width:"200px",borderRight:"1px solid #ccc",padding:"10px"},children:[(0,t.jsx)("h2",{children:"Components"}),(0,t.jsx)(l,{id:"send-message",children:"Send Message"}),(0,t.jsx)(l,{id:"wait-for-reply",children:"Wait for Reply"})]}),(0,t.jsxs)("div",{style:{flex:1,padding:"10px"},children:[(0,t.jsx)("h2",{children:"Funnel Canvas"}),(0,t.jsx)("button",{onClick:()=>{a(JSON.stringify(e,null,2))},children:"Save Funnel"}),(0,t.jsx)(r.gB,{items:e.map(e=>e.id),strategy:r._G,children:(0,t.jsx)("div",{id:"canvas",style:{border:"1px dashed #ccc",padding:"20px",minHeight:"200px"},children:e.map(e=>(0,t.jsx)(c,{id:e.id,item:e,deleteItem:o,updateItemMessage:x},e.id))})}),d&&(0,t.jsx)("pre",{style:{marginTop:"20px",backgroundColor:"#f5f5f5",padding:"10px"},children:d})]})]})})}},7843:(e,i,d)=>{Promise.resolve().then(d.bind(d,2045))}},e=>{e.O(0,[268,376,315,441,255,358],()=>e(e.s=7843)),_N_E=e.O()}]);